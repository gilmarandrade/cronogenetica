<!DOCTYPE html>
<!--

-->
<html>
    <head>
        <title>prototipo 3-02.00</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="cs/s/basico.css" rel="stylesheet" />
        <style>

@font-face {
    font-family: Play;
    /*src: url("http://site/fontes/RegencyScriptFLF-Regular.eot"); /* para IE */
    src: local("Play"), url("css/fonts/Play-Regular.ttf");
}
@font-face {
    font-family: "Six Caps";
    src: local("Six Caps"), url("css/onts/SixCaps.ttf");
    font-weight: normal;
    font-style: normal;
}

.gt-indexStage , .gt-eventsStage{
   // position: relative;
    margin: 0 auto;
}
.gt-detail{
    background: blue;
}
.gt-indexStage{
    position: relative;
    //background: green;
}
.gt-eventsStage{
    position: relative;
    background: red;
}

.gt-indexTrack {
    position: relative;
    overflow: hidden;
     margin: 0 auto;
   // background: pink;
}

.gt-indexTrack ul {
    background: url("images/timeline-fundo.png");
    background-size: cover;
    //background-position: center center;
    margin: 0;
    margin-left:0;
    padding: 0;
    transition-property: margin-left;
    transition-duration: 1s;
    transition-timing-function: ease-out;
    transition-delay: 0s;
    //-webkit-transition: margin-left .5s ease;
    //-moz-transition: margin-left .5s ease;
    //-o-transition: margin-left .5s ease;
    
    list-style: none;
    position: relative;
    
}

.gt-indexTrack ul li {
    position: absolute;
    width: 14px;//pointSize
    height: 180px;
    //float:left;
}
.gt-indexTrack ul li span.point.off{
    visibility: hidden;
}
.gt-indexTrack ul li span.point{
    box-sizing: border-box;
display:block;
background-color: #ff3300;
border:2px solid #550000;
border-radius: 50%;
width: 14px;
height: 14px;
//cursor: pointer;
transition: all .3s ease-in 0s;
}
.gt-indexTrack ul li span.point:hover, .gt-indexTrack ul li span#gt-selected{
    background: #550000;
    border:3px solid white;
    transform: scale(1.5);
    
}
.gt-indexTrack ul li span.point:active{
    background: #550000;
    border:3px solid white;
    transform: scale(1);
    transition: all .3s ease;
    
}


.gt-indexTrack ul li .tooltip{
        
        display:block;
        background: url("images/tooltipup.png");
	color:white;
	//border-radius: 0px;
	width: 53px;
	height: 38px;
	//border:none;
	z-index: 2000;
	text-align: center;
	line-height: 26.5px;
	position: relative;
	left:-20px;
	top:-55px;
        visibility: hidden;
	//display: none;
        opacity:0;
        transition: all .3s ease-in .2s;
        cursor: default;
}
.gt-indexTrack ul li .tooltip.bottom{
	
	top:5px;
        background: url("images/tooltipdown.png");
        line-height: 46.5px;
}
.gt-indexTrack ul li:hover .tooltip{
	//display: block;
        visibility: visible;
        opacity:1;
        top:-52px;
}
.gt-indexTrack ul li:hover .tooltip.bottom{
	//display: block;
        opacity:1;
        top:0px;
}
/*.gt-indexTrack ul li span:hover+.tooltip{
	display: block;
}*/
.gt-eventsTrack{
   // background: purple;
}
.gt-indexStage:hover .gt-indexNav{
    //background: purple;
    color:black;
}
.gt-indexNav {
    position: absolute;
   top: 0px;
    width: 50px;
    height: 200px;
   // background: #000;
     //opacity: 0.9;
    cursor: pointer;
    transition: all .4s linear;
    -webkit-transition: all .4s linear;
    -moz-transition: all .4s linear;
    -o-transition: all .4s linear;
    //-moz-box-shadow: inset 0 0 10px #333;
    //-webkit-box-shadow: inset 0 0 10px #333;
   // box-shadow: inset 0 0 10px #333;
    text-decoration: none;
    color: #fff;
    font-weight: bold;
    //font-family: Times, "Times New Roman", serif;
    font-size: 40px;
    text-align: center;
    line-height: 180px;
    color: transparent;
}


.gt-indexNav:hover {
    color: white !important;
    background: black !important;
    
}

.gt-indexStage .left {
    left: 0;
    background: linear-gradient(to left, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 80%); /* W3C */
   
    //border-radius: 0 6px 6px 0;
}

.gt-indexStage .right {
    right: 0;
    background: linear-gradient(to right, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 80%); /* W3C */
   
   // border-radius: 6px 0 0 6px;
}

.gt-indexNav.off:hover {
    opacity: 0.5;
    background: #ccc;
    color: #ccc;
    cursor: not-allowed;
}



/*RESET*/
*{
	margin: 0;
	padding: 0;
}
/*FONTES*/
body{
	/*font-family: "Six Caps";
*/	font-family: Play;
	/*falta importar usando font-face;*/
}

/*CONTAINERES PRINCIPAIS*/
.center{
	width: 1000px;
	margin: 0 auto;
}

header{
	background-color: #ff6600;
	height: 50px;
}
header input{
	float: right;
	font-family: Play;
	margin:12.5px 0px;
	height: 25px;
	width: 200px;
}



        </style>
    </head>
    <body>
        <header id="header" style="height: 50px;background-color: orange;">
            header
        </header>
        
         <div class="GT"> 
         
           <ul data-year="1865" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1900" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1905" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1913" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1944" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1953" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1966" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1972" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1974" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1977" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1982" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1983" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1984" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1985" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1986" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1987" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1988" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1989" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1990" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1991" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1992" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1993" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1994" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1995" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1996" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1997" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1998" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1999" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="2000" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="2001" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="2002" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="2003" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
          
           <!--<ul data-year="2015" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>-->
           
        </div> 
        
    
        
    <script>
    (function() {
        //opções de inicialização
        var options = {
            selector:'.GT'
        };
        
        //variaveis de controle
        var pointSize = 14;//px
        var headerHeight = document.getElementById('header') == null ? 0 : parseInt(document.getElementById('header').style.height);//px
        var innerHeight = window.innerHeight,//px
            innerWidth  = parseInt(window.innerWidth/pointSize)*pointSize,//px
            indexHeight = (innerHeight - headerHeight)*(40/100),//px
            eventsHeight = (innerHeight - headerHeight)*(60/100),//px
            indexTrackWidth,//px
            indexScroll = innerWidth/pointSize;//pontos
        var paddingLeft = 15;//pontos
                    
        var structure = new Array();
        //var elements = new Array();
        var root, application;
        //var current = 0;
        
      
        console.log('resolução útil:' + innerWidth + ' x ' + innerHeight);
        
        initGT(options);
        
        //identifica elementos com classe .GT e armazena no array slidersList
        function initGT(options) {
            console.log( 'iniciando Genetic\'s Timeline Plugin - versão 1.0');
            var elements = document.querySelectorAll(options.selector);
            
            if (elements.length < 1) {
                console.log('nenhum elemento '+options.selector +' encontrado. FIM');
            }else {
                console.log(elements.length + ' elementos '+options.selector +' encontrados');
                root = elements[0];
                structureBuild();
                applicationBuild();
                
                //initStages(elements[0]);
               // window.addEventListener('resize', resize);
            }
        }
        
        function structureBuild(){   
            var ul = root.querySelectorAll('ul');
            var li, 
                events = new Array();
        
            events[0] = {
                        title: '',
                        content: 'home.html'
                    };
            structure[0] = {
                year: ( parseInt(ul[0].getAttribute('data-year')) - 20),
                image: '',
                events: events
            };
            
            events = new Array();
            for( var i=0; i< ul.length; i++ ) {
                li = ul[i].querySelectorAll('li');
                for(var j =0; j< li.length; j++) {
                    events[j] = {
                        title: li[j].innerHTML,
                        content: li[j].getAttribute('data-content')
                    };
                }
                structure[i+1] = {
                    year: parseInt(ul[i].getAttribute('data-year')),
                    image: ul[i].getAttribute('data-image'),
                    events: events
                };
               events = new Array();
            }
            
            
            var firstYear = structure[0].year;
            var lastYear = structure[structure.length-1].year;
            var realLastYear = lastYear+15;//15 porque é maior ajuste feito para mover à direita
            if(firstYear%10 >= realLastYear%10){
                realLastYear += firstYear%10 - realLastYear%10;
            }else{
                realLastYear += (firstYear%10)+10 - realLastYear%10;
            }
            events[0] = {
                        title: '',
                        content: 'end.html'
                    };
            structure.push(
                {
                    year: realLastYear,
                    image: '',
                    events: events
                }
            );
            
            var startPoint = structure[0].year;
            var endPoint = structure[structure.length - 1].year;
            
            indexTrackWidth = (endPoint - startPoint)*pointSize + innerWidth;
            console.log('indexTrackWidth '+ indexTrackWidth);
            
            
            console.log('estrutura construída:');
            for(var k =0; k< structure.length; k++) {
                    console.log(structure[k].year + ' ' + structure[k].image);
                    for(var l=0; l<structure[k].events.length; l++ ){
                        console.log('      '+structure[k].events[l].title+' '+ structure[k].events[l].content);
                    }
                    
            }
        }
        
        function applicationBuild(){
            var indexStage = createIndexStage();
            var eventsStage = createEventsStage();
            var detail = document.createElement('div');
            detail.className = 'gt-detail';
       
            root.innerHTML = '';
            root.appendChild(indexStage); 
            root.appendChild(eventsStage); 
            root.appendChild(detail); 
        } 
        
        function createIndexStage(){
            var indexStage = document.createElement('div');
            indexStage.className = 'gt-indexStage';
            indexStage.setAttribute('data-current', '0');
            indexStage.style.width = innerWidth + 'px';
            //alert(indexStage.style.width);
            
            var indexTrack = createIndexTrack();
            indexStage.appendChild(indexTrack);
            
            var navLeft = createNavIndex('left');
            indexStage.appendChild(navLeft);
            
            var navRight = createNavIndex('right');
            indexStage.appendChild(navRight);
            
            return indexStage;
        }
        
        function createIndexTrack(){
            var indexTrack = document.createElement('div');
            indexTrack.className = 'gt-indexTrack';
            indexTrack.setAttribute('data-indexScroll', indexScroll);
            indexTrack.style.height = '200px';
            //indexTrack.style.height = indexHeight+'px';
            
            var ul = document.createElement('ul');
            ul.style.height = '180px';
            var position = (-1)*(structure[0].year - 1800 -( paddingLeft - 10))*pointSize;
            ul.style.backgroundPosition = position +'px';
            
            
            
            var li, point, tooltip;
            //configuração do primeiro li (de controle e será invisivel)
            li = document.createElement('li');
            li.style.marginLeft = pointSize*paddingLeft + (parseInt(structure[0].year)-parseInt(structure[0].year))*pointSize + 'px';
            point = document.createElement('span');
            point.classList.add('point');
            point.classList.add('off');
            point.setAttribute('data-position', i );
            point.setAttribute('data-left', parseInt(li.style.marginLeft) );
            
            li.appendChild(point);
            ul.appendChild(li);
            
            
            
            //configuração dos outros li
            for(var i=1; i< structure.length - 1; i++){
                li = document.createElement('li');
                li.style.marginLeft = pointSize*paddingLeft + (parseInt(structure[i].year)-parseInt(structure[0].year))*pointSize + 'px';
                point = document.createElement('span');
                point.classList.add('point');
                point.setAttribute('data-position', i );
                point.setAttribute('data-left', parseInt(li.style.marginLeft) );
                //point.setAttribute('onclick','indexTrackGoTo(\''+i+'\');');
                
                if(parseInt(structure[i].year)%10 == 0){
                    point.style.marginTop = '110px';
                }
                else if(parseInt(structure[i].year)%10 == 1){
                    point.style.marginTop = '95px';
                }
                else if(parseInt(structure[i].year)%10 == 2){
                    point.style.marginTop = '135px';
                }
                else if(parseInt(structure[i].year)%10 == 3){
                    point.style.marginTop = '75px';
                }
                else if(parseInt(structure[i].year)%10 == 4){
                    point.style.marginTop = '150px';
                }
                else if(parseInt(structure[i].year)%10 == 5){
                    point.style.marginTop = '65px';
                }
                else if(parseInt(structure[i].year)%10 == 6){
                    point.style.marginTop = '150px';
                }
                else if(parseInt(structure[i].year)%10 == 7){
                    point.style.marginTop = '75px';
                }
                else if(parseInt(structure[i].year)%10 == 8){
                    point.style.marginTop = '135px';
                }
                else if(parseInt(structure[i].year)%10 == 9){
                    point.style.marginTop = '95px';
                }
                
               point.onclick = function (e) {
                    e.preventDefault();
                    
                    //console.log(e.target.getAttribute('data-position'));
                    indexTrackGoTo( parseInt(e.target.getAttribute('data-position')) ,parseInt(e.target.getAttribute('data-left')) );
                   
                };
                
                tooltip = document.createElement('span');
                tooltip.classList.add('tooltip');
                if(structure[i].year % 2 == 0){
                    tooltip.classList.add('bottom');
                }
                tooltip.innerHTML = structure[i].year;
                
                li.appendChild(point);
                li.appendChild(tooltip);
                ul.appendChild(li);
            }
            
            
            //configuração do ultimo li (de controle e será invisivel)
            li = document.createElement('li');
            li.style.marginLeft = pointSize*paddingLeft + (parseInt(structure[structure.length-1].year)-parseInt(structure[0].year))*pointSize + 'px';
            point = document.createElement('span');
            point.classList.add('point');
            point.classList.add('off' );
            point.setAttribute('data-position', i );
            point.setAttribute('data-left', parseInt(li.style.marginLeft) );
            
            li.appendChild(point);
            ul.appendChild(li);
            
            
            
            
            indexTrack.appendChild(ul);
            return indexTrack;
        }
        
        function createNavIndex(direction){
            
            var button = document.createElement('a');
            button.classList.add('gt-indexNav');
            button.classList.add(direction);
            //button.style.top = (headerHeight) + 'px';
            
            button.setAttribute('href', '#');
            
            if(direction == 'left'){
                button.innerHTML = '<';
                button.classList.add('off');
                button.onclick = function (e) {
                e.preventDefault();
                indexTrackGoToLeft(10);
               };
            }
            else{
                button.innerHTML = '>';
                if(indexTrackWidth <= innerWidth){
                    button.classList.add('off');
                }
                button.onclick = function (e) {
                e.preventDefault();
                indexTrackGoToRight(10);
               };
            }
            
            
            return button;
        }
        
        function indexTrackGoToLeft(x){
            var nav = document.querySelectorAll('.gt-indexNav');
            
            var track = document.querySelectorAll('.gt-indexTrack');
            //console.log(track); 
            var ul = track[0].querySelectorAll('ul');
            //console.log(ul); 
            //var marginLeftCurrent = parseFloat(ul[0].style.marginLeft);
            var marginLeftCurrent = ul[0].style.marginLeft;
             console.log(marginLeftCurrent);
            if(marginLeftCurrent == ''){
                marginLeftCurrent = 0;
            }
            
            var indexStage = root.querySelectorAll('.gt-indexStage');
            var indexTrack = indexStage[0].querySelectorAll('.gt-indexTrack');
            var currentScroll = indexTrack[0].getAttribute('data-indexScroll');
            
            console.log((Math.abs(currentScroll - innerWidth/pointSize)%10));
            console.log((innerWidth/pointSize+10 - currentScroll%10)%10);
            if( (Math.abs(currentScroll - innerWidth/pointSize)%10) <= (innerWidth/pointSize+10 - currentScroll%10)%10 ){
                x +=( Math.abs(currentScroll - innerWidth/pointSize)%10 );
            }else{
                x -= (innerWidth/pointSize+10 - currentScroll%10)%10;   
            }
            
            console.log(' x:'+x);
                
            
            
            
            var scroll = track[0].getAttribute('data-indexScroll');
            if(scroll > innerWidth/pointSize){
                //pode ir para a esquerda
                scroll = parseInt(scroll) - x;
                track[0].setAttribute('data-indexScroll', scroll);
                marginLeftCurrent = parseInt(marginLeftCurrent) + x*pointSize;
                ul[0].style.marginLeft = marginLeftCurrent + 'px';
                
                
                if(scroll <= innerWidth/pointSize){
                    //não pode ir para a esquerda
                    nav[0].classList.add('off');
                    console.log('no left');
                }else{
                   console.log('left'); 
                   nav[0].classList.remove('off');
                   nav[1].classList.remove('off');
                }
                
                
            }
            
           
            
            
            
        }
        
        function indexTrackGoToRight(x){
            var nav = document.querySelectorAll('.gt-indexNav');
            
            var track = document.querySelectorAll('.gt-indexTrack');
            //console.log(track); 
            var ul = track[0].querySelectorAll('ul');
            //console.log(ul); 
            //var marginLeftCurrent = parseFloat(ul[0].style.marginLeft);
            var marginLeftCurrent = ul[0].style.marginLeft;
             console.log(marginLeftCurrent);
            if(marginLeftCurrent == ''){
                marginLeftCurrent = 0;
            }
            
            
            var indexStage = root.querySelectorAll('.gt-indexStage');
            var indexTrack = indexStage[0].querySelectorAll('.gt-indexTrack');
            var currentScroll = indexTrack[0].getAttribute('data-indexScroll');
            
            console.log((Math.abs(currentScroll - innerWidth/pointSize)%10));
            console.log((innerWidth/pointSize+10 - currentScroll%10)%10);
            if( (Math.abs(currentScroll - innerWidth/pointSize)%10) < (innerWidth/pointSize+10 - currentScroll%10)%10 ){
                x -=( Math.abs(currentScroll - innerWidth/pointSize)%10 );
            }else{
                x += (innerWidth/pointSize+10 - currentScroll%10)%10;   
            }
            
            console.log(' x:'+x);
            
            
           
            
            
        
            var scroll = track[0].getAttribute('data-indexScroll');
             if(scroll < indexTrackWidth/pointSize){
                 //pode ir para direita
                scroll = parseInt(scroll) + x;
                track[0].setAttribute('data-indexScroll', scroll);
                marginLeftCurrent = parseInt(marginLeftCurrent) - x*pointSize;
                ul[0].style.marginLeft = marginLeftCurrent + 'px';
                
                if(scroll >= indexTrackWidth/pointSize){
                    //nao pode ir para direita
                    nav[1].classList.add('off');
                    console.log('no right');
                }else{
                    //pode ir para direita
                   console.log('right'); 
                   nav[1].classList.remove('off');
                   nav[0].classList.remove('off');
                }
                
                
            }
            
        }
        
        function indexTrackGoTo(i, x){
            console.log(i);
            
            var nav = document.querySelectorAll('.gt-indexNav');
            
            var track = document.querySelectorAll('.gt-indexTrack');
            //console.log(track); 
            var ul = track[0].querySelectorAll('ul');
            
            /*///////////////////////////////////////////////////
            //console.log(ul); 
            //var marginLeftCurrent = parseFloat(ul[0].style.marginLeft);
            var marginLeftCurrent = ul[0].style.marginLeft;
            console.log(marginLeftCurrent);
            if(marginLeftCurrent == ''){
                marginLeftCurrent = 0;
            }
            
           
            var newScroll = (marginLeftCurrent + innerWidth)/pointSize;
            alert(newScroll);
            track[0].setAttribute('data-indexScroll', newScroll);
        
            marginLeftCurrent = -x + paddingLeft*pointSize ;//track[0].getAttribute('data-indexScroll');
            ul[0].style.marginLeft = marginLeftCurrent + 'px';
            *////////////////////////////////////////////////////////
            
            
            var indexScroll =(structure[i].year - structure[0].year) + innerWidth/pointSize;//track[0].getAttribute('data-indexScroll');
            console.log('indexScroll: ' + indexScroll);
            track[0].setAttribute('data-indexScroll', indexScroll);
            var marginLeft = (-1)*((structure[i].year - structure[0].year)*pointSize);
            ul[0].style.marginLeft = marginLeft + 'px';
            console.log('marginleft: ' + marginLeft);
            
            var indexStage = root.querySelectorAll('.gt-indexStage');
            indexStage[0].setAttribute('data-current', i );
            
            if(indexScroll > innerWidth/pointSize){
                //pode ir para a esquerda
                nav[0].classList.remove('off');
            }else{
                    //não pode ir para a esquerda
                    nav[0].classList.add('off');
            }
            
            if(indexScroll < indexTrackWidth/pointSize){
                //pode ir para direita
                nav[1].classList.remove('off');
            }else{
               //não pode ir para direita
               nav[1].classList.add('off');
            }
            /*if(scroll < indexTrackWidth/pointSize){
                scroll = parseInt(scroll) + x;
                track[0].setAttribute('data-indexScroll', scroll);
                marginLeftCurrent = parseInt(marginLeftCurrent) - x*pointSize;
                ul[0].style.marginLeft = marginLeftCurrent + 'px';
                
                if(scroll >= indexTrackWidth/pointSize){
                    nav[1].classList.add('off');
                    console.log('no right');
                }else{
                   console.log('right'); 
                }
                
                nav[0].classList.remove('off');
            }*/
            
            
        }
        
        function createEventsStage(){
            var eventsStage = document.createElement('div');
            eventsStage.className = 'gt-eventsStage';
            eventsStage.width = innerWidth + 'px';
            
            var eventsTrack = createEventsTrack();
            eventsStage.appendChild(eventsTrack);
            
            return eventsStage;
        }
        function createEventsTrack(){
            var eventsTrack = document.createElement('div');
            eventsTrack.className = 'gt-eventsTrack';
            
            return eventsTrack;
        }
        
        function initStages(el){
            console.log('iniciando Palcos');
            var elements = el.querySelectorAll('ul');
            aplication = {root: el , currentPage: 1, elements: elements, indexStage:null, contentStage:null};
           
            if (stages.elements.length == 0) {
              console.log('   estrutura vazia. FIM');
            }else{
               jTimelineStructure = stages;
               console.log('   palcos adicionado');
               stagesBuild(); 
            }
            
        }
        
        function stagesBuild(){
             //this.getPageDimensions()
             createStages();
             //.initNavigation();
             //this.root.innerHTML = '';
             // this.root.appendChild(this.stage);
        }
        
        function createStages(){
            //jTimelineStructure
            //objectsStage.push();
            var indexStage = document.createElement('div');
            indexStage.className = 'indexStage';
            indexStage.style.width = stageWidth + 'px';
            indexStage.style.height = stageWidth + 'px';
            
            var contentStage = document.createElement('div');
            contentStage.className = 'contentStage';
            contentStage.style.height = stageWidth + 'px';
         
            this.buildTrack()
                .loadImages();

            this.stage.appendChild(this.sliderTrack);
        }
        
        function resize(){
            headerHeight = document.getElementById('header') == null ? 0 : parseInt(document.getElementById('header').style.height);
            stageWidth = window.innerWidth, 
            stageHeight = window.innerHeight - headerHeight;
    
            console.log('resize Palco:' + stageWidth+ ' x ' + stageHeight );
        }
        
    
       
    })();    
    </script>
    
     <script>
      
        
        
        function JSlider(selector) {
            this.init(selector);
        }

        JSlider.prototype.init = function (selector) {
            
            var elements = document.querySelectorAll(selector),
                i;

           

            if (elements.length < 1) {
                return;
            }

            for (i = 0; i < elements.length; i += 1) {
                //slidersList.push(new JSliderStage(elements[i]));
            }
            
            window.addEventListener('resize', this.resize);
        };



        function JSliderStage(el) {
            this.doc = document;
            this.init(el);
        }

        JSlider.prototype.resize = function (){
            
            
           // console.log("" + slidersList.length);   
            //this.pageWidth = window.innerWidth;
            //this.pageHeight = window.innerHeight;
            //console.log(this.slidersList.length +' resize:'+ pageWidth + ' x ' + pageHeight);
            
           
        };
        
       

        JSliderStage.prototype.init = function (el) {
            this.root = el;
            this.currentPage = 1;
            this.images = this.root.querySelectorAll('img');

            if (this.images.length === 0) {
                return;
            }

            this.build();
        };

        JSliderStage.prototype.build = function () {
            this.getPageDimensions()
                .createStage()
                .initNavigation();
            this.root.innerHTML = '';
            this.root.appendChild(this.stage);
        };

        JSliderStage.prototype.getPageDimensions = function () {
            var i;
            this.pageWidth = window.innerWidth;
            this.pageHeight = window.innerHeight;
            /*this.pageWidth = this.pageHeight = 0;
            for (i = 0; i < this.images.length; i += 1) {
                if (this.images[i].width > this.pageWidth) {
                    this.pageWidth = this.images[i].width;
                }
                if (this.images[i].height > this.pageHeight) {
                    this.pageHeight = this.images[i].height;
                }
            }*/
            return this;
        };

        JSliderStage.prototype.createStage = function () {
            this.stage = this.doc.createElement('div');
            this.stage.className = 'jslider-stage';
            this.stage.style.width = this.pageWidth + 'px';
            // console.log('createStage: pagewidth = '+this.pageWidth);
            this.buildTrack()
                .loadImages();

            this.stage.appendChild(this.sliderTrack);

            return this;
        };
        JSliderStage.prototype.resizeStage = function () {
            console.log('resizeStage: pagewidth = '+this.pageWidth);
        };

        JSliderStage.prototype.buildTrack = function () {
            this.sliderTrack = this.doc.createElement('div');
            this.sliderTrack.className = 'jslider-track';
            this.sliderTrack.style.height = this.pageHeight + 'px';
            return this;
        };

        JSliderStage.prototype.loadImages = function () {
            var i,
                li;

            this.imageList = this.doc.createElement('ul');
            this.imageList.style.width = (this.images.length * this.pageWidth) + 'px';

            for (i = 0; i < this.images.length; i += 1) {
                li = this.doc.createElement('li');
                li.style.width = this.pageWidth + 'px';
                li.style.height = this.pageHeight + 'px';
                li.appendChild(this.images[i]);
                this.imageList.appendChild(li);
            }

            this.sliderTrack.appendChild(this.imageList);
        };

        JSliderStage.prototype.initNavigation = function () {
            var positionTop = ((this.pageHeight / 2) - 40) + 'px';

            if (this.images.length < 2) {
                return this;
            }

            this.createNavigationButton('left', positionTop)
                .createNavigationButton('right', positionTop);

            this.navButtonsList = this.stage.querySelectorAll('.jslider-navigation');

            return this;
        };

        JSliderStage.prototype.createNavigationButton = function (direction, positionTop) {
            var navButton = this.doc.createElement('a'),
                self = this,
                slidingLeft = (direction === 'left'),
                page;

            navButton.className = 'jslider-navigation ' + direction + (slidingLeft ? ' off' : '');
            navButton.style.top = positionTop;
            navButton.href = '#';
            navButton.innerHTML = (slidingLeft ? '&lsaquo;' : '&rsaquo;');

            navButton.onclick = function (e) {
                e.preventDefault();
                page = (slidingLeft ? self.currentPage - 1 : self.currentPage + 1);
                self.gotoPage(page);
            };

            this.stage.appendChild(navButton);

            return this;
        };

        JSliderStage.prototype.gotoPage = function (page) {
            var marginLeft = (-1) * ((page - 1) * this.pageWidth);
            if (page < 1 || page > this.images.length) {
                return;
            }

            this.setNavigationState(page);

            this.imageList.style.marginLeft = marginLeft + 'px';
            this.currentPage = page;
        };

        JSliderStage.prototype.setNavigationState = function (page) {
            if (page === 1) {
                this.navButtonsList[0].classList.add('off');
                this.navButtonsList[1].classList.remove('off');
            } else {
                this.navButtonsList[0].classList.remove('off');
                if (page === this.images.length) {
                    this.navButtonsList[1].classList.add('off');
                } else {
                    this.navButtonsList[1].classList.remove('off');
                }
            }
        };

         
        </script>
    </body>
</html>
