<!DOCTYPE html>
<!--
Versão funcional, o indexStage e as setas de navegação funcionam sem responsividade.
-->
<html>
    <head>
        <title>prototipo 3-01</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="css/basico.css" rel="stylesheet" />
        <style>




        </style>
    </head>
    <body>
        <header id="header" style="height: 50px;background-color: orange;">
            header
        </header>
        
         <div class="GT"> 
           <!-- <ul data-year="1800" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as leis da Genética</li>
                <li data-content="2000-02.html">Gregor Mendel </li>
                <li data-content="2000-03.html">Descobre as leis</li>
                <li data-content="2000-04.html">da Genética</li>
            </ul>
            
            <ul data-year="1801" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
            <ul data-year="1802" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
            <ul data-year="1803" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
            
            <ul data-year="1804" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
            <ul data-year="1805">
                <li data-content="2000-01.html">da Genética</li>
                <li data-content="2000-02.html">as leis</li>
                <li data-content="2000-03.html">Mendel Descobre</li>
                <li data-content="2000-04.html">Gregor</li>
            </ul>
            <ul data-year="1806" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
            <ul data-year="1807" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
            <ul data-year="1808" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
            
            <ul data-year="1809" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
            <ul data-year="1810" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
            
            <ul data-year="1830">
                <li data-content="2000-01.html">Gregor Mendel Descobre as leis da Genética</li>
                <li data-content="2000-02.html">Descobre as Genética Gregor leis da Mendel </li>
            </ul>
             
            <ul data-year="1831" data-image="01.jpg">
                <li data-content="2000-01.html">mama</li>
            </ul>
            
            <ul data-year="1845" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
            <ul data-year="1850">
                <li data-content="2000-01.html">Gregor Mendel Descobre as leis da Genética</li>
                <li data-content="2000-02.html">Descobre as Genética Gregor leis da Mendel </li>
            </ul>
             
            <ul data-year="1862" data-image="01.jpg">
                <li data-content="2000-01.html">mama</li>
            </ul>
            
            <ul data-year="1874" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
             
            <ul data-year="1889" data-image="01.jpg">
                <li data-content="2000-01.html">mama</li>
            </ul>
            
            <ul data-year="1900" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
             
                  
            <ul data-year="1901" data-image="01.jpg">
                <li data-content="2000-01.html">mama</li>
            </ul>
            
            <ul data-year="1907" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
             
            <ul data-year="1913" data-image="01.jpg">
                <li data-content="2000-01.html">mama</li>
            </ul>
            
            <ul data-year="1938" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
             
         
                 
            <ul data-year="1950" data-image="01.jpg">
                <li data-content="2000-01.html">mama</li>
            </ul>
            
            <ul data-year="1961" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
             
            <ul data-year="1977" data-image="01.jpg">
                <li data-content="2000-01.html">mama</li>
            </ul>
            
            <ul data-year="1980" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
             
            <ul data-year="1998" data-image="01.jpg">
                <li data-content="2000-01.html">mama</li>
            </ul>
            
            <ul data-year="1999" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
             
            <ul data-year="2000" data-image="01.jpg">
                <li data-content="2000-01.html">mama</li>
            </ul>
            
            <ul data-year="2001" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
             
            <ul data-year="2010" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
             
           <ul data-year="2014" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
             
            <ul data-year="2016" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
            <ul data-year="2022" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
             <ul data-year="2026" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
            <ul data-year="2027" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
             <ul data-year="2028" data-image="01.jpg">
                <li data-content="2000-01.html">papa</li>
            </ul>
           -->
           
           <ul data-year="1865" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1900" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1905" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1913" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1944" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1953" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1966" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1972" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1974" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1977" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1982" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1983" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1984" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1985" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1986" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1987" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1988" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1989" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1990" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1991" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1992" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1993" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1994" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1995" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1996" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1997" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1998" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="1999" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="2000" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="2001" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="2002" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
           <ul data-year="2003" data-image="01.jpg">
                <li data-content="2000-01.html">Gregor Mendel Descobre as Leis da Genética</li>
           </ul>
        </div> 
        
    
        
    <script>
    (function() {
        //opções de inicialização
        var options = {
            selector:'.GT'
            /*,
            indexSelector:'.index-JTimeline',
            contentSelector:'.content-JTimeline'*/
        };
        
        //variaveis de controle
        var headerHeight = document.getElementById('header') == null ? 0 : parseInt(document.getElementById('header').style.height);
        var innerHeight = window.innerHeight,
            innerWidth  = window.innerWidth, 
            indexHeight = (innerHeight - headerHeight)*(40/100), 
            eventsHeight = (innerHeight - headerHeight)*(60/100),
            indexTrackWidth,
            pointSize = 14,
            indexScroll = parseInt( innerWidth/pointSize);
        var paddingLeft = 10;//pontos
                    
        var structure = new Array();
        //var elements = new Array();
        var root, application;
        var current = null;
        
      
        console.log('resolução útil:' + innerWidth + ' x ' + innerHeight);
        
        initGT(options);
        
        //identifica elementos com classe .JTimeline e armazena no array slidersList
        function initGT(options) {
            console.log( 'iniciando Genetic\'s Timeline Plugin - versão 1.0');
            var elements = document.querySelectorAll(options.selector);
            
            if (elements.length < 1) {
                console.log('nenhum elemento '+options.selector +' encontrado. FIM');
            }else {
                console.log(elements.length + ' elementos '+options.selector +' encontrados');
                root = elements[0];
                structureBuild();
                applicationBuild();
                
                //initStages(elements[0]);
               // window.addEventListener('resize', resize);
            }
        }
        
        function structureBuild(){   
            var ul = root.querySelectorAll('ul');
            var li, 
                events = new Array();
            
            for( var i=0; i< ul.length; i++ ) {
                li = ul[i].querySelectorAll('li');
                for(var j =0; j< li.length; j++) {
                    events[j] = {
                        title: li[j].innerHTML,
                        content: li[j].getAttribute('data-content')
                    };
                }
                structure[i] = {
                    year: parseInt(ul[i].getAttribute('data-year')),
                    image: ul[i].getAttribute('data-image'),
                    events: events
                };
               events = new Array();
            }
            
            var startPoint = structure[0].year;
            var endPoint = structure[structure.length - 1].year;
            
            indexTrackWidth = ((endPoint - startPoint) + indexScroll)*pointSize;
            
            
            console.log('estrutura construída:');
            for(var k =0; k< structure.length; k++) {
                    console.log(structure[k].year + ' ' + structure[k].image);
                    for(var l=0; l<structure[k].events.length; l++ ){
                        console.log('      '+structure[k].events[l].title+' '+ structure[k].events[l].content);
                    }
                    
            }
        }
        
        function applicationBuild(){
            var indexStage = createIndexStage();
            var eventsStage = createEventsStage();
            var detail = document.createElement('div');
            detail.className = 'gt-detail';
       
            root.innerHTML = '';
            root.appendChild(indexStage); 
            root.appendChild(eventsStage); 
            root.appendChild(detail); 
        } 
        
        function createIndexStage(){
            var indexStage = document.createElement('div');
            indexStage.className = 'gt-indexStage';
            indexStage.setAttribute('data-current', '');
            indexStage.width = innerWidth + 'px';
            
            var indexTrack = createIndexTrack();
            indexStage.appendChild(indexTrack);
            
            var navLeft = createNavIndex('left');
            indexStage.appendChild(navLeft);
            
            var navRight = createNavIndex('right');
            indexStage.appendChild(navRight);
            
            return indexStage;
        }
        
        function createIndexTrack(){
            var indexTrack = document.createElement('div');
            indexTrack.className = 'gt-indexTrack';
            indexTrack.setAttribute('data-indexScroll', indexScroll);
            indexTrack.style.height = '200px';
            //indexTrack.style.height = indexHeight+'px';
            
            var ul = document.createElement('ul');
            ul.style.height = '180px';
            var position = (-1)*(structure[0].year - 1800)*pointSize;
            ul.style.backgroundPosition = position +'px';
            
            //alert((structure[0].year - 1800) +'px');
            /*var startMark = document.createElement('li');
            startMark.className = 'gt-startMatk';
            //startMark.innerHTML = 'start mark';
            startMark.style.backgroundColor = 'red';
            startMark.style.position = 'relative';
            startMark.style.marginLeft = pointSize*10 +(parseInt(structure[7].year)-parseInt(structure[0].year))*pointSize + 'px';
            ul.appendChild(startMark);*/
            
            
            var li, point, tooltip;
            for(var i=0; i< structure.length; i++){
                li = document.createElement('li');
                li.style.marginLeft = pointSize*paddingLeft + (parseInt(structure[i].year)-parseInt(structure[0].year))*pointSize + 'px';
                point = document.createElement('span');
                
                if(parseInt(structure[i].year)%10 == 0){
                    point.style.marginTop = '110px';
                }
                else if(parseInt(structure[i].year)%10 == 1){
                    point.style.marginTop = '95px';
                }
                else if(parseInt(structure[i].year)%10 == 2){
                    point.style.marginTop = '135px';
                }
                else if(parseInt(structure[i].year)%10 == 3){
                    point.style.marginTop = '75px';
                }
                else if(parseInt(structure[i].year)%10 == 4){
                    point.style.marginTop = '150px';
                }
                else if(parseInt(structure[i].year)%10 == 5){
                    point.style.marginTop = '65px';
                }
                else if(parseInt(structure[i].year)%10 == 6){
                    point.style.marginTop = '150px';
                }
                else if(parseInt(structure[i].year)%10 == 7){
                    point.style.marginTop = '75px';
                }
                else if(parseInt(structure[i].year)%10 == 8){
                    point.style.marginTop = '135px';
                }
                else if(parseInt(structure[i].year)%10 == 9){
                    point.style.marginTop = '95px';
                }
                
                point.onclick = function (e) {
                    e.preventDefault();
                    alert('foi');
                    //indexTrackGoTo();
                   
                };
                
                tooltip = document.createElement('span');
                tooltip.classList.add('tooltip');
                if(structure[i].year % 2 == 0){
                    tooltip.classList.add('bottom');
                }
                tooltip.innerHTML = structure[i].year;
                
                li.appendChild(point);
                li.appendChild(tooltip);
                ul.appendChild(li);
            }
            indexTrack.appendChild(ul);
            return indexTrack;
        }
        
        function createNavIndex(direction){
            
            var button = document.createElement('a');
            button.classList.add('gt-indexNav');
            button.classList.add(direction);
            
            button.setAttribute('href', '#');
            
            if(direction == 'left'){
                button.innerHTML = '<';
                button.classList.add('off');
                button.onclick = function (e) {
                e.preventDefault();
                indexTrackGoToLeft(10);
               };
            }
            else{
                button.innerHTML = '>';
                if(indexTrackWidth <= innerWidth){
                    button.classList.add('off');
                }
                button.onclick = function (e) {
                e.preventDefault();
                indexTrackGoToRight(10);
               };
            }
            
            
            return button;
        }
        
        function indexTrackGoToLeft(x){
            var nav = document.querySelectorAll('.gt-indexNav');
            
            var track = document.querySelectorAll('.gt-indexTrack');
            //console.log(track); 
            var ul = track[0].querySelectorAll('ul');
            //console.log(ul); 
            //var marginLeftCurrent = parseFloat(ul[0].style.marginLeft);
            var marginLeftCurrent = ul[0].style.marginLeft;
             console.log(marginLeftCurrent);
            if(marginLeftCurrent == ''){
                marginLeftCurrent = 0;
            }
            
            var scroll = track[0].getAttribute('data-indexScroll');
            if(scroll >= innerWidth/pointSize){
                scroll = parseInt(scroll) - x;
                track[0].setAttribute('data-indexScroll', scroll);
                marginLeftCurrent = parseInt(marginLeftCurrent) + x*pointSize;
                ul[0].style.marginLeft = marginLeftCurrent + 'px';
                
                if(scroll < innerWidth/pointSize){
                    nav[0].classList.add('off');
                    console.log('left');
                }else{
                   console.log('left'); 
                }
                
                nav[1].classList.remove('off');
            }
            
           
            
            
            
        }
        
         function indexTrackGoToRight(x){
            var nav = document.querySelectorAll('.gt-indexNav');
            
            var track = document.querySelectorAll('.gt-indexTrack');
            //console.log(track); 
            var ul = track[0].querySelectorAll('ul');
            //console.log(ul); 
            //var marginLeftCurrent = parseFloat(ul[0].style.marginLeft);
            var marginLeftCurrent = ul[0].style.marginLeft;
             console.log(marginLeftCurrent);
            if(marginLeftCurrent == ''){
                marginLeftCurrent = 0;
            }
            
            var scroll = track[0].getAttribute('data-indexScroll');
             if(scroll < indexTrackWidth/pointSize){
                scroll = parseInt(scroll) + x;
                track[0].setAttribute('data-indexScroll', scroll);
                marginLeftCurrent = parseInt(marginLeftCurrent) - x*pointSize;
                ul[0].style.marginLeft = marginLeftCurrent + 'px';
                
                if(scroll >= indexTrackWidth/pointSize){
                    nav[1].classList.add('off');
                    console.log('no right');
                }else{
                   console.log('right'); 
                }
                
                nav[0].classList.remove('off');
            }
            
        }
        
        function createEventsStage(){
            var eventsStage = document.createElement('div');
            eventsStage.className = 'gt-eventsStage';
            eventsStage.width = innerWidth + 'px';
            
            var eventsTrack = createEventsTrack();
            eventsStage.appendChild(eventsTrack);
            
            return eventsStage;
        }
        function createEventsTrack(){
            var eventsTrack = document.createElement('div');
            eventsTrack.className = 'gt-eventsTrack';
            
            return eventsTrack;
        }
        
        function initStages(el){
            console.log('iniciando Palcos');
            var elements = el.querySelectorAll('ul');
            aplication = {root: el , currentPage: 1, elements: elements, indexStage:null, contentStage:null};
           
            if (stages.elements.length == 0) {
              console.log('   estrutura vazia. FIM');
            }else{
               jTimelineStructure = stages;
               console.log('   palcos adicionado');
               stagesBuild(); 
            }
            
        }
        
        function stagesBuild(){
             //this.getPageDimensions()
             createStages();
             //.initNavigation();
             //this.root.innerHTML = '';
             // this.root.appendChild(this.stage);
        }
        
        function createStages(){
            //jTimelineStructure
            //objectsStage.push();
            var indexStage = document.createElement('div');
            indexStage.className = 'indexStage';
            indexStage.style.width = stageWidth + 'px';
            indexStage.style.height = stageWidth + 'px';
            
            var contentStage = document.createElement('div');
            contentStage.className = 'contentStage';
            contentStage.style.height = stageWidth + 'px';
         
            this.buildTrack()
                .loadImages();

            this.stage.appendChild(this.sliderTrack);
        }
        
        function resize(){
            headerHeight = document.getElementById('header') == null ? 0 : parseInt(document.getElementById('header').style.height);
            stageWidth = window.innerWidth, 
            stageHeight = window.innerHeight - headerHeight;
    
            console.log('resize Palco:' + stageWidth+ ' x ' + stageHeight );
        }
        
    
       
    })();    
    </script>
    
     <script>
      
        
        
        function JSlider(selector) {
            this.init(selector);
        }

        JSlider.prototype.init = function (selector) {
            
            var elements = document.querySelectorAll(selector),
                i;

           

            if (elements.length < 1) {
                return;
            }

            for (i = 0; i < elements.length; i += 1) {
                //slidersList.push(new JSliderStage(elements[i]));
            }
            
            window.addEventListener('resize', this.resize);
        };



        function JSliderStage(el) {
            this.doc = document;
            this.init(el);
        }

        JSlider.prototype.resize = function (){
            
            
           // console.log("" + slidersList.length);   
            //this.pageWidth = window.innerWidth;
            //this.pageHeight = window.innerHeight;
            //console.log(this.slidersList.length +' resize:'+ pageWidth + ' x ' + pageHeight);
            
           
        };
        
       

        JSliderStage.prototype.init = function (el) {
            this.root = el;
            this.currentPage = 1;
            this.images = this.root.querySelectorAll('img');

            if (this.images.length === 0) {
                return;
            }

            this.build();
        };

        JSliderStage.prototype.build = function () {
            this.getPageDimensions()
                .createStage()
                .initNavigation();
            this.root.innerHTML = '';
            this.root.appendChild(this.stage);
        };

        JSliderStage.prototype.getPageDimensions = function () {
            var i;
            this.pageWidth = window.innerWidth;
            this.pageHeight = window.innerHeight;
            /*this.pageWidth = this.pageHeight = 0;
            for (i = 0; i < this.images.length; i += 1) {
                if (this.images[i].width > this.pageWidth) {
                    this.pageWidth = this.images[i].width;
                }
                if (this.images[i].height > this.pageHeight) {
                    this.pageHeight = this.images[i].height;
                }
            }*/
            return this;
        };

        JSliderStage.prototype.createStage = function () {
            this.stage = this.doc.createElement('div');
            this.stage.className = 'jslider-stage';
            this.stage.style.width = this.pageWidth + 'px';
            // console.log('createStage: pagewidth = '+this.pageWidth);
            this.buildTrack()
                .loadImages();

            this.stage.appendChild(this.sliderTrack);

            return this;
        };
        JSliderStage.prototype.resizeStage = function () {
            console.log('resizeStage: pagewidth = '+this.pageWidth);
        };

        JSliderStage.prototype.buildTrack = function () {
            this.sliderTrack = this.doc.createElement('div');
            this.sliderTrack.className = 'jslider-track';
            this.sliderTrack.style.height = this.pageHeight + 'px';
            return this;
        };

        JSliderStage.prototype.loadImages = function () {
            var i,
                li;

            this.imageList = this.doc.createElement('ul');
            this.imageList.style.width = (this.images.length * this.pageWidth) + 'px';

            for (i = 0; i < this.images.length; i += 1) {
                li = this.doc.createElement('li');
                li.style.width = this.pageWidth + 'px';
                li.style.height = this.pageHeight + 'px';
                li.appendChild(this.images[i]);
                this.imageList.appendChild(li);
            }

            this.sliderTrack.appendChild(this.imageList);
        };

        JSliderStage.prototype.initNavigation = function () {
            var positionTop = ((this.pageHeight / 2) - 40) + 'px';

            if (this.images.length < 2) {
                return this;
            }

            this.createNavigationButton('left', positionTop)
                .createNavigationButton('right', positionTop);

            this.navButtonsList = this.stage.querySelectorAll('.jslider-navigation');

            return this;
        };

        JSliderStage.prototype.createNavigationButton = function (direction, positionTop) {
            var navButton = this.doc.createElement('a'),
                self = this,
                slidingLeft = (direction === 'left'),
                page;

            navButton.className = 'jslider-navigation ' + direction + (slidingLeft ? ' off' : '');
            navButton.style.top = positionTop;
            navButton.href = '#';
            navButton.innerHTML = (slidingLeft ? '&lsaquo;' : '&rsaquo;');

            navButton.onclick = function (e) {
                e.preventDefault();
                page = (slidingLeft ? self.currentPage - 1 : self.currentPage + 1);
                self.gotoPage(page);
            };

            this.stage.appendChild(navButton);

            return this;
        };

        JSliderStage.prototype.gotoPage = function (page) {
            var marginLeft = (-1) * ((page - 1) * this.pageWidth);
            if (page < 1 || page > this.images.length) {
                return;
            }

            this.setNavigationState(page);

            this.imageList.style.marginLeft = marginLeft + 'px';
            this.currentPage = page;
        };

        JSliderStage.prototype.setNavigationState = function (page) {
            if (page === 1) {
                this.navButtonsList[0].classList.add('off');
                this.navButtonsList[1].classList.remove('off');
            } else {
                this.navButtonsList[0].classList.remove('off');
                if (page === this.images.length) {
                    this.navButtonsList[1].classList.add('off');
                } else {
                    this.navButtonsList[1].classList.remove('off');
                }
            }
        };

         
        </script>
    </body>
</html>
